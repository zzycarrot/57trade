{"version":3,"file":"js/24.5fd19b4a.js","mappings":"iKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,eAAe,CAACA,EAAG,YAAY,CAACE,YAAY,CAAC,OAAS,QAAQF,EAAG,UAAU,CAACE,YAAY,CAAC,QAAU,OAAO,iBAAiB,WAAW,CAACF,EAAG,MAAM,CAACA,EAAG,UAAU,CAACG,IAAI,OAAOD,YAAY,CAAC,YAAY,OAAO,OAAS,OAAOE,MAAM,CAAC,MAAQN,EAAIO,KAAK,cAAc,SAAS,CAACL,EAAG,eAAe,CAACA,EAAG,OAAO,CAACE,YAAY,CAAC,YAAY,SAAS,CAACJ,EAAIQ,GAAG,QAAQN,EAAG,WAAW,CAACO,MAAM,CAACC,MAAOV,EAAIO,KAAKI,KAAMC,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIO,KAAM,OAAQM,EAAI,EAAEE,WAAW,gBAAgB,GAAGb,EAAG,eAAe,CAACA,EAAG,OAAO,CAACE,YAAY,CAAC,YAAY,SAAS,CAACJ,EAAIQ,GAAG,QAAQN,EAAG,WAAW,CAACI,MAAM,CAAC,KAAO,YAAYG,MAAM,CAACC,MAAOV,EAAIO,KAAKS,SAAUJ,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIO,KAAM,WAAYM,EAAI,EAAEE,WAAW,oBAAoB,GAAGb,EAAG,eAAe,CAACA,EAAG,OAAO,CAACE,YAAY,CAAC,YAAY,SAAS,CAACJ,EAAIQ,GAAG,UAAUN,EAAG,YAAY,CAACI,MAAM,CAAC,YAAc,WAAWG,MAAM,CAACC,MAAOV,EAAIO,KAAKU,OAAQL,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIO,KAAM,SAAUM,EAAI,EAAEE,WAAW,gBAAgB,CAACb,EAAG,YAAY,CAACI,MAAM,CAAC,MAAQ,KAAK,MAAQ,OAAOJ,EAAG,YAAY,CAACI,MAAM,CAAC,MAAQ,MAAM,MAAQ,QAAQ,GAAGJ,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,WAAWY,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAIoB,SAASpB,EAAIO,KAAK,IAAI,CAACP,EAAIQ,GAAG,SAAS,IAAI,IAAI,GAAGN,EAAG,MAAM,CAACE,YAAY,CAAC,OAAS,aAAa,EAClzC,EACIiB,EAAkB,G,oBCwCtB,GACAC,IAAAA,GACA,OACAf,KAAA,GAEA,EACAgB,QAAA,CAEAH,QAAAA,CAAAb,GAEA,MAAAe,EAAA,CACAE,SAAAjB,EAAAI,KACAK,SAAAT,EAAAS,UAIAS,EAAA,CACA,mCAIAC,EAAAA,EACAC,KAAA,8BAAAC,KAAAC,UAAAP,GAAA,CAAAG,QAAAA,IACAK,MAAAC,IAIA,IAAAA,EAAAT,KAAAU,MACAC,MAAA,QAEAC,OAAAC,aAAAC,QAAA,QAAAL,EAAAT,KAAAA,MAGA,WAAAf,KAAAU,QACAoB,QAAAC,IAAA,yBACA,KAAAC,QAAAC,KAAA,YACA,MAAWvC,KAAXM,KAAAU,SACAoB,QAAAC,IAAA,uBACA,KAAAC,QAAAC,KAAA,WAKAP,MAAA,OACA,IAEAQ,OAAAC,IACAL,QAAAK,MAAA,QAAAA,GAEAT,MAAA,UAEA,IC7FiQ,I,UCQ7PU,GAAY,OACd,EACA5C,EACAsB,GACA,EACA,KACA,KACA,MAIF,EAAesB,EAAiB,O","sources":["webpack://vue-project/./src/views/guan/IndexView.vue","webpack://vue-project/src/views/guan/IndexView.vue","webpack://vue-project/./src/views/guan/IndexView.vue?bfe7","webpack://vue-project/./src/views/guan/IndexView.vue?d665"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-container',[_c('el-header',{staticStyle:{\"height\":\"5%\"}}),_c('el-main',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\"}},[_c('div',[_c('el-form',{ref:\"form\",staticStyle:{\"font-size\":\"80px\",\"height\":\"8vh\"},attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',[_c('span',{staticStyle:{\"font-size\":\"30px\"}},[_vm._v(\"姓名\")]),_c('el-input',{model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',[_c('span',{staticStyle:{\"font-size\":\"30px\"}},[_vm._v(\"密码\")]),_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('el-form-item',[_c('span',{staticStyle:{\"font-size\":\"30px\"}},[_vm._v(\"选择身份\")]),_c('el-select',{attrs:{\"placeholder\":\"请选择登录身份\"},model:{value:(_vm.form.region),callback:function ($$v) {_vm.$set(_vm.form, \"region\", $$v)},expression:\"form.region\"}},[_c('el-option',{attrs:{\"label\":\"主管\",\"value\":\"1\"}}),_c('el-option',{attrs:{\"label\":\"管理员\",\"value\":\"2\"}})],1),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSubmit(_vm.form)}}},[_vm._v(\"登录\")])],1)],1)],1),_c('div',{staticStyle:{\"height\":\"30vh\"}})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-container>\r\n    <el-header style=\"height: 5%\"></el-header>\r\n    <el-main style=\"display: flex; flex-direction: column\">\r\n      <div>\r\n        <el-form\r\n          ref=\"form\"\r\n          :model=\"form\"\r\n          label-width=\"80px\"\r\n          style=\"font-size: 80px; height: 8vh\"\r\n        >\r\n          <el-form-item\r\n            ><span style=\"font-size: 30px\">姓名</span\r\n            ><el-input v-model=\"form.name\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <span style=\"font-size: 30px\">密码</span\r\n            ><el-input v-model=\"form.password\" type=\"password\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item>\r\n            <span style=\"font-size: 30px\">选择身份</span\r\n            ><el-select v-model=\"form.region\" placeholder=\"请选择登录身份\">\r\n              <el-option label=\"主管\" value=\"1\"></el-option>\r\n              <el-option label=\"管理员\" value=\"2\"></el-option>\r\n            </el-select>\r\n\r\n            <el-button type=\"primary\" @click=\"onSubmit(form)\">登录</el-button>\r\n\r\n            <!-- <el-button>取消</el-button> -->\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <div style=\"height: 30vh\"></div>\r\n    </el-main>\r\n  </el-container>\r\n</template>\r\n\r\n\r\n    <script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: [],\r\n    };\r\n  },\r\n  methods: {\r\n    \r\n    onSubmit(form) {\r\n  // 构建要提交的数据对象\r\n  const data = {\r\n  username: form.name,\r\n  password: form.password,\r\n};\r\n\r\n// 设置请求头为 application/json\r\nconst headers = {\r\n  'Content-Type': 'application/json'\r\n};\r\n\r\n// 发送登录请求并进行 JWT 验证\r\naxios\r\n  .post(\"http://localhost:8081/login\", JSON.stringify(data), { headers: headers })\r\n  .then((res) => {\r\n    \r\n\r\n      // 检查是否成功获取到 JWT token\r\n      if (res.data.code === 1) {\r\n        alert(\"登录成功\");\r\n        // 保存token到localstorage\r\n        window.localStorage.setItem(\"token\", res.data.data);\r\n\r\n        // 根据 form.region 的值重定向到不同的页面\r\n        if (this.form.region === '1') {\r\n  console.log(\"Navigating to /people\");\r\n  this.$router.push(\"/people\");\r\n} else if (this.form.region === '2') {\r\n  console.log(\"Navigating to /home\");\r\n  this.$router.push(\"/home\");\r\n}\r\n\r\n      } else {\r\n        // 登录失败，给出提示\r\n        alert(\"登录失败\");\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"请求错误：\", error);\r\n      // 登录失败，给出提示\r\n      alert(\"登录失败\");\r\n    });\r\n},\r\n  },}\r\n</script>\r\n    <style>\r\n.el-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh; /* 使用视口高度作为容器高度 */\r\n}\r\n\r\n.el-header {\r\n  background-color: #b3c0d1;\r\n  color: #333;\r\n  text-align: center;\r\n  line-height: 60px;\r\n  background-image: url(\"./标签栏.png\");\r\n  background-size: cover;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n}\r\n\r\n.el-main {\r\n  background-color: #e9eef3;\r\n  color: #333;\r\n  text-align: center;\r\n  /* flex: 1; \r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center; */\r\n  background-image: url(\"./内容区底图.png\");\r\n  background-size: cover;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  flex-grow: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.el-menu-item {\r\n  margin-bottom: 20px; /* 设置菜单项之间的底部外边距 */\r\n}\r\n.custom-form-item {\r\n  font-size: 60px; /* 修改表单项文字的大小 */\r\n}\r\n.el-form-ite_lable {\r\n  font-size: 30px;\r\n}\r\n</style>\r\n  \r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./IndexView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./IndexView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./IndexView.vue?vue&type=template&id=248739cc\"\nimport script from \"./IndexView.vue?vue&type=script&lang=js\"\nexport * from \"./IndexView.vue?vue&type=script&lang=js\"\nimport style0 from \"./IndexView.vue?vue&type=style&index=0&id=248739cc&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","ref","attrs","form","_v","model","value","name","callback","$$v","$set","expression","password","region","on","$event","onSubmit","staticRenderFns","data","methods","username","headers","axios","post","JSON","stringify","then","res","code","alert","window","localStorage","setItem","console","log","$router","push","catch","error","component"],"sourceRoot":""}