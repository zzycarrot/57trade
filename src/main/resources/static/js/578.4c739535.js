"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[578],{1578:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var o=function(){var t=this,e=t._self._c;return e("el-container",[e("el-header",{staticStyle:{height:"5%"}}),e("el-main",{staticStyle:{display:"flex","flex-direction":"column"}},[e("div",[e("el-dialog",{attrs:{title:"新增人员",visible:t.addview},on:{"update:visible":function(e){t.addview=e}}},[e("el-form",{attrs:{model:t.form}},[e("el-form-item",{staticStyle:{width:"60%","font-size":"4vw"},attrs:{label:"姓名"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("el-form-item",{staticStyle:{width:"60%","font-size":"4vw"},attrs:{label:"密码"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.quxiao}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("确 定")])],1)],1),e("el-table",{staticStyle:{width:"100%",height:"50vh","font-size":"2vh"},attrs:{data:t.tableData,height:"200"}},[e("el-table-column",{attrs:{fixed:"left",prop:"username",label:"姓名",width:"200"}}),e("el-table-column",{attrs:{fixed:"",prop:"password",label:"密码",width:"200"}}),e("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){return e.preventDefault(),t.delet(a.row.username)}}},[t._v("移除")])]}}])})],1),e("el-button",{staticStyle:{"font-size":"3vh"},attrs:{type:"success"},on:{click:t.open}},[t._v("增加")]),e("el-button",{staticStyle:{"font-size":"3vh"},attrs:{type:"warning"},on:{click:t.close}},[t._v("退出登录")])],1),e("div",{staticStyle:{height:"10vh"}})])],1)},l=[],s=(a(4114),a(244),a(5111)),r={data(){return{form:{},tableData:[],addview:!1}},methods:{close(){window.localStorage.removeItem("token"),this.$router.push("/index")},quxiao(){this.addview=!1,this.form={}},open(){this.addview=!0},fetchData(){s.Ay.get("http://localhost:8081/User/selectAll").then((t=>{console.log(t),this.tableData=t.data.data}))},add(){const t={username:this.form.name,password:this.form.password};s.Ay.post("http://localhost:8081/User/insert",t).then((t=>{console.log("添加用户成功:",t.data),t.data?(alert("用户添加成功"),this.form={},location.reload()):(console.error("添加用户失败"),alert("用户添加失败"))})).catch((t=>{console.error("添加用户时出错:",t)}))},delet(t){const e={username:t};s.Ay.delete("http://localhost:8081/User/delete",{params:e}).then((t=>{1===t.data.code&&(console.log("删除成功:",t.data),location.reload())})).catch((t=>{console.error("删除用户时出错:",t)}))}},mounted(){this.fetchData()}},i=r,n=a(1656),c=(0,n.A)(i,o,l,!1,null,null,null),d=c.exports}}]);
//# sourceMappingURL=578.4c739535.js.map