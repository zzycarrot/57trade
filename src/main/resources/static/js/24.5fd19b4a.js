"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[24],{5024:function(e,t,o){o.r(t),o.d(t,{default:function(){return p}});var l=function(){var e=this,t=e._self._c;return t("el-container",[t("el-header",{staticStyle:{height:"5%"}}),t("el-main",{staticStyle:{display:"flex","flex-direction":"column"}},[t("div",[t("el-form",{ref:"form",staticStyle:{"font-size":"80px",height:"8vh"},attrs:{model:e.form,"label-width":"80px"}},[t("el-form-item",[t("span",{staticStyle:{"font-size":"30px"}},[e._v("姓名")]),t("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("el-form-item",[t("span",{staticStyle:{"font-size":"30px"}},[e._v("密码")]),t("el-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),t("el-form-item",[t("span",{staticStyle:{"font-size":"30px"}},[e._v("选择身份")]),t("el-select",{attrs:{placeholder:"请选择登录身份"},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}},[t("el-option",{attrs:{label:"主管",value:"1"}}),t("el-option",{attrs:{label:"管理员",value:"2"}})],1),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit(e.form)}}},[e._v("登录")])],1)],1)],1),t("div",{staticStyle:{height:"30vh"}})])],1)},r=[],a=(o(4114),o(8355)),n={data(){return{form:[]}},methods:{onSubmit(e){const t={username:e.name,password:e.password},o={"Content-Type":"application/json"};a.A.post("http://localhost:8081/login",JSON.stringify(t),{headers:o}).then((e=>{1===e.data.code?(alert("登录成功"),window.localStorage.setItem("token",e.data.data),"1"===this.form.region?(console.log("Navigating to /people"),this.$router.push("/people")):"2"===this.form.region&&(console.log("Navigating to /home"),this.$router.push("/home"))):alert("登录失败")})).catch((e=>{console.error("请求错误：",e),alert("登录失败")}))}}},s=n,i=o(1656),c=(0,i.A)(s,l,r,!1,null,null,null),p=c.exports}}]);
//# sourceMappingURL=24.5fd19b4a.js.map