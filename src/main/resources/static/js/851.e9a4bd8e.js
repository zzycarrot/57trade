"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[851],{3851:function(e,t,o){o.r(t),o.d(t,{default:function(){return c}});var a=function(){var e=this,t=e._self._c;return t("el-container",[t("el-header",{staticStyle:{height:"5%"}}),t("el-main",{staticStyle:{display:"flex","flex-direction":"column"}},[t("div",[t("el-form",{ref:"form",staticStyle:{"font-size":"80px",height:"8vh"},attrs:{model:e.form,"label-width":"80px"}},[t("el-form-item",[t("span",{staticStyle:{"font-size":"30px"}},[e._v("姓名")]),t("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("el-form-item",[t("span",{staticStyle:{"font-size":"30px"}},[e._v("密码")]),t("el-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit(e.form)}}},[e._v("登录")])],1)],1)],1),t("div",{staticStyle:{height:"30vh"}})])],1)},r=[],n=(o(4114),o(5111)),l={data(){return{form:[]}},methods:{onSubmit(e){const t={username:e.name,password:e.password},o={"Content-Type":"application/json"};n.A.post("/login",JSON.stringify(t),{headers:o}).then((e=>{1===e.data.code?(alert("登录成功"),window.localStorage.setItem("token",e.data.data.jwt),"admin"===e.data.data.role?(console.log("Navigating to /people"),this.$router.push("/people")):"emp"===e.data.data.role&&(console.log("Navigating to /home"),this.$router.push("/home"))):alert("登录失败")})).catch((e=>{console.error("请求错误：",e),alert("登录失败")}))}}},s=l,i=o(1656),p=(0,i.A)(s,a,r,!1,null,null,null),c=p.exports}}]);
//# sourceMappingURL=851.e9a4bd8e.js.map