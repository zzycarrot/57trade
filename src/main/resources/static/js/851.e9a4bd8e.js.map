{"version":3,"file":"js/851.e9a4bd8e.js","mappings":"kKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,eAAe,CAACA,EAAG,YAAY,CAACE,YAAY,CAAC,OAAS,QAAQF,EAAG,UAAU,CAACE,YAAY,CAAC,QAAU,OAAO,iBAAiB,WAAW,CAACF,EAAG,MAAM,CAACA,EAAG,UAAU,CAACG,IAAI,OAAOD,YAAY,CAAC,YAAY,OAAO,OAAS,OAAOE,MAAM,CAAC,MAAQN,EAAIO,KAAK,cAAc,SAAS,CAACL,EAAG,eAAe,CAACA,EAAG,OAAO,CAACE,YAAY,CAAC,YAAY,SAAS,CAACJ,EAAIQ,GAAG,QAAQN,EAAG,WAAW,CAACO,MAAM,CAACC,MAAOV,EAAIO,KAAKI,KAAMC,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIO,KAAM,OAAQM,EAAI,EAAEE,WAAW,gBAAgB,GAAGb,EAAG,eAAe,CAACA,EAAG,OAAO,CAACE,YAAY,CAAC,YAAY,SAAS,CAACJ,EAAIQ,GAAG,QAAQN,EAAG,WAAW,CAACI,MAAM,CAAC,KAAO,YAAYG,MAAM,CAACC,MAAOV,EAAIO,KAAKS,SAAUJ,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIO,KAAM,WAAYM,EAAI,EAAEE,WAAW,oBAAoB,GAAGb,EAAG,eAAe,CAACA,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,WAAWW,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOlB,EAAImB,SAASnB,EAAIO,KAAK,IAAI,CAACP,EAAIQ,GAAG,SAAS,IAAI,IAAI,GAAGN,EAAG,MAAM,CAACE,YAAY,CAAC,OAAS,aAAa,EACj+B,EACIgB,EAAkB,G,oBCoCtB,GACAC,IAAAA,GACA,OACAd,KAAA,GAEA,EACAe,QAAA,CAEAH,QAAAA,CAAAZ,GAEA,MAAAc,EAAA,CACAE,SAAAhB,EAAAI,KACAK,SAAAT,EAAAS,UAIAQ,EAAA,CACA,mCAIAC,EAAAA,EACAC,KAAA,SAAAC,KAAAC,UAAAP,GAAA,CAAAG,QAAAA,IACAK,MAAAC,IAIA,IAAAA,EAAAT,KAAAU,MACAC,MAAA,QAEAC,OAAAC,aAAAC,QAAA,QAAAL,EAAAT,KAAAA,KAAAe,KAGA,UAAAN,EAAAT,KAAAA,KAAAgB,MACAC,QAAAC,IAAA,yBACA,KAAAC,QAAAC,KAAA,YACA,QAAAX,EAAAT,KAAAA,KAAAgB,OACAC,QAAAC,IAAA,uBACA,KAAAC,QAAAC,KAAA,WAKAT,MAAA,OACA,IAEAU,OAAAC,IACAL,QAAAK,MAAA,QAAAA,GAEAX,MAAA,UAEA,ICzFiQ,I,UCQ7PY,GAAY,OACd,EACA7C,EACAqB,GACA,EACA,KACA,KACA,MAIF,EAAewB,EAAiB,O","sources":["webpack://vue-project/./src/views/guan/IndexView.vue","webpack://vue-project/src/views/guan/IndexView.vue","webpack://vue-project/./src/views/guan/IndexView.vue?bfe7","webpack://vue-project/./src/views/guan/IndexView.vue?d665"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-container',[_c('el-header',{staticStyle:{\"height\":\"5%\"}}),_c('el-main',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\"}},[_c('div',[_c('el-form',{ref:\"form\",staticStyle:{\"font-size\":\"80px\",\"height\":\"8vh\"},attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',[_c('span',{staticStyle:{\"font-size\":\"30px\"}},[_vm._v(\"姓名\")]),_c('el-input',{model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',[_c('span',{staticStyle:{\"font-size\":\"30px\"}},[_vm._v(\"密码\")]),_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSubmit(_vm.form)}}},[_vm._v(\"登录\")])],1)],1)],1),_c('div',{staticStyle:{\"height\":\"30vh\"}})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-container>\r\n    <el-header style=\"height: 5%\"></el-header>\r\n    <el-main style=\"display: flex; flex-direction: column\">\r\n      <div>\r\n        <el-form\r\n          ref=\"form\"\r\n          :model=\"form\"\r\n          label-width=\"80px\"\r\n          style=\"font-size: 80px; height: 8vh\"\r\n        >\r\n          <el-form-item\r\n            ><span style=\"font-size: 30px\">姓名</span\r\n            ><el-input v-model=\"form.name\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <span style=\"font-size: 30px\">密码</span\r\n            ><el-input v-model=\"form.password\" type=\"password\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item>\r\n            \r\n\r\n            <el-button type=\"primary\" @click=\"onSubmit(form)\">登录</el-button>\r\n\r\n            <!-- <el-button>取消</el-button> -->\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <div style=\"height: 30vh\"></div>\r\n    </el-main>\r\n  </el-container>\r\n</template>\r\n\r\n\r\n    <script>\r\n\r\nimport ajax from \"@/untils/axios\"\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: [],\r\n    };\r\n  },\r\n  methods: {\r\n    \r\n    onSubmit(form) {\r\n  // 构建要提交的数据对象\r\n  const data = {\r\n  username: form.name,\r\n  password: form.password,\r\n};\r\n\r\n// 设置请求头为 application/json\r\nconst headers = {\r\n  'Content-Type': 'application/json'\r\n};\r\n\r\n// 发送登录请求并进行 JWT 验证\r\najax\r\n  .post(\"/login\", JSON.stringify(data), { headers: headers })\r\n  .then((res) => {\r\n    \r\n\r\n      // 检查是否成功获取到 JWT token\r\n      if (res.data.code === 1) {\r\n        alert(\"登录成功\");\r\n        // 保存token到localstorage\r\n        window.localStorage.setItem(\"token\", res.data.data.jwt);\r\n\r\n        // 根据 form.region 的值重定向到不同的页面\r\n        if (res.data.data.role === 'admin') {\r\n  console.log(\"Navigating to /people\");\r\n  this.$router.push(\"/people\");\r\n} else if (res.data.data.role === 'emp') {\r\n  console.log(\"Navigating to /home\");\r\n  this.$router.push(\"/home\");\r\n}\r\n\r\n      } else {\r\n        // 登录失败，给出提示\r\n        alert(\"登录失败\");\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"请求错误：\", error);\r\n      // 登录失败，给出提示\r\n      alert(\"登录失败\");\r\n    });\r\n},\r\n  },}\r\n</script>\r\n    <style>\r\n.el-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh; /* 使用视口高度作为容器高度 */\r\n}\r\n\r\n.el-header {\r\n  background-color: #b3c0d1;\r\n  color: #333;\r\n  text-align: center;\r\n  line-height: 60px;\r\n  background-image: url(\"./标签栏.png\");\r\n  background-size: cover;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n}\r\n\r\n.el-main {\r\n  background-color: #e9eef3;\r\n  color: #333;\r\n  text-align: center;\r\n  /* flex: 1; \r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center; */\r\n  background-image: url(\"./内容区底图.png\");\r\n  background-size: cover;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  flex-grow: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.el-menu-item {\r\n  margin-bottom: 20px; /* 设置菜单项之间的底部外边距 */\r\n}\r\n.custom-form-item {\r\n  font-size: 60px; /* 修改表单项文字的大小 */\r\n}\r\n.el-form-ite_lable {\r\n  font-size: 30px;\r\n}\r\n</style>\r\n  \r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./IndexView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./IndexView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./IndexView.vue?vue&type=template&id=62a9690e\"\nimport script from \"./IndexView.vue?vue&type=script&lang=js\"\nexport * from \"./IndexView.vue?vue&type=script&lang=js\"\nimport style0 from \"./IndexView.vue?vue&type=style&index=0&id=62a9690e&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","ref","attrs","form","_v","model","value","name","callback","$$v","$set","expression","password","on","$event","onSubmit","staticRenderFns","data","methods","username","headers","ajax","post","JSON","stringify","then","res","code","alert","window","localStorage","setItem","jwt","role","console","log","$router","push","catch","error","component"],"sourceRoot":""}